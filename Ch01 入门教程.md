<font size=3>**文档目录**</font>

[TOC]

# 第一节 入门教程

> Update: 2019/01/20 11:10

> Date: 2019/01/16 - 2019/01/19

> Editor: NEU - Amy Li

> Contact: hsrlhl@outlook.com



## 1 &nbsp;概要

这是一篇关于移动设备间高频声波隐蔽通信和隐私保护的项目入门教程，在进行项目之前，我们需要首先明确几个重要的概念和问题，以便更清晰、更有目的性地开展项目。

- 信息隐藏技术
- 隐蔽信道
- 物理隔离
- 传统的信息安全策略
- 移动通信系统的通信策略都有什么？
- 近场通信
- 在现有移动通信系统较为完善的今天，我们为什么要采用高频声波通信的通信策略？
- 高频声波通信是否存在安全隐患？



## 2 &nbsp;信息隐藏技术

### 2.1 定义

**信息隐藏技术（Information Hiding）**，也就是信息隐藏，将在未来网络中保护信息不受破坏方面起到重要作用，信息隐藏是把机密信息隐藏在大量信息中不让对手发觉的一种方法。

### 2.2 信息加密技术和信息隐藏技术

#### 2.2.1 信息加密技术

我们通常使用加密（Cryptography）的方式保障通信的安全，加密技术从公元前2000年发展至今已经非常成熟，产生了诸多性能良好的加密算法。

**加密**是采用特殊的算法对数据进行编码形成密文，第三方在未知解密算法的时候，即使获得了密文，也无法从中获取原始信息的内容。

在现代网络信息传输过程中，为实现信息安全，多媒体数据通过网络传输之前通常会进行加密。但随着计算机运算能力的增强，破解密码的时间越来越短，加密方法受到了严重的威胁。基于此种情况，信息安全学科的另一个分支——信息隐藏技术进入人们的视野。

#### 2.2.2 两种技术的异同点

- **同：出发点均是为了保障通信安全**
- **异：**
  （1）侧重点不同。信息加密技术对信息本身进行研究，通过特殊的加密算法对信息进行编码，形成密文，侧重于保护信息不被非法接收者所理解与破解。而信息隐藏技术不仅可以保护通信的内容，还可以通过隐藏信息传输的痕迹，侧重于隐藏秘密信息于一段公开的信息中，使人察觉不到秘密信息的存在。
  （2）技术的内容范围不同。信息加密技术是研究加解密的技术，包含对称加密和非对称加密两种类型。而信息隐藏技术具有非常复杂的分支，针对不同的应用，还会有不同的具体要求。例如隐写术的目的是在不引起注意的情况下传递秘密信息，数字水印的目的是保护版权和所有权证明等。
  （3）载体的依赖程度不同。信息加密技术对于信息载体的依赖程度并不高，而信息隐藏技术却对载体有依赖关系。由于隐藏载体的特性影响着隐藏的方法，因此在隐藏信息前通常需要分析隐藏载体，根据载体的特性提出适合自身的信息隐藏模型或算法。

### 2.3 信息隐藏模型

秘密信息为待隐藏的信息，如账号密码等；公开的信息为载体信息，通常是文本、图像、音视频等数据。信息隐藏的基本模型如图1所示。

<div align=center><img src="https://github.com/AmyLi98/Acoustic-communication/blob/master/Tutorial/img/%E4%BF%A1%E6%81%AF%E9%9A%90%E8%97%8F%E6%A8%A1%E5%9E%8B.png" alt="图1 信息隐藏基本模型" /></div>

整个模型分为三部分：信息嵌入、信息提取和算法部分。信息嵌入部分将秘密信息的格式事先进行处理以保障数据的安全性，然后通过一定算法隐藏在载体信息中；信息提取部分通过提取算法从载体中获取秘密信息；算法部分是保证整个系统秘密通信的关键。

### 2.4 信息隐藏的分类

信息隐藏的分类方法众多，可以按载体类型分为基于文本、图像和音视频的信息隐藏技术；可以按加解密方式分为对称隐藏技术和非对称隐藏技术等。最常用的分类方法是Petitcolas等人按不同背景来分类，如图2所示。

<div align=center><img src="https://github.com/AmyLi98/Acoustic-communication/blob/master/Tutorial/img/%E4%BF%A1%E6%81%AF%E9%9A%90%E8%97%8F.png" alt="图2 信息隐藏技术分类" /></div>

- 隐蔽信道（Covert Channel）：定义如下所述，即“一种允许进程以违背系统安全策略的形式传送信息的通信信道”，是研究如何在公开信道中实现隐蔽通信的技术。
- 隐写术（Steganography）：是一种研究如何利用信息的冗余性和人类感知的局限性将秘密信息隐藏于载体数据中的技术。
- 匿名通信（Anonymous Communication）：是指对通信关系进行隐藏，使第三方无法获知信息的发送者和接受者，主要目的是隐匿信息痕迹。
- 版权标识（Copyright Identification）：主要是实现数字作品身份认证和版权保护的作用，其中最重要的组成部分是数字水印。



## 3 &nbsp;隐蔽信道

### 3.1 定义

隐蔽信道是一种允许进程以违背系统安全策略的形式传送信息的通信信道，即一种原本设计不被用来传送信息的计算机通信信道。

隐蔽信道隐蔽信道现在已经被广泛的应用于网络信息数据安全传输。

### 3.2 隐蔽信道通信

隐蔽信道通信是一种基于隐蔽信道的通信技术，对于计算机网络嗅探或侦听起有效的防范作用。

1983年，Simmons 提出了著名的隐蔽通信模型——**“囚犯模型”**，这也是目前应用最为广泛的隐蔽信道模型。看守 Wendy 负责对两个囚犯 Alice 和 Bob 的活动进行监视，他们必须通过 Wendy 才能传递消息。为了商讨越狱计划，Alice 和 Bob 需要在传递合法公开的信息时隐藏秘密信息，不被 Wendy 发觉。

<div align=center><img src="https://github.com/AmyLi98/Acoustic-communication/blob/master/Tutorial/img/%E9%9A%90%E8%94%BD%E4%BF%A1%E9%81%93%E4%B8%80%E8%88%AC%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%9E%8B.png" alt="图3 隐蔽信道一般通信模型" /></div>

如图3所示，隐蔽信道寄生于公开信道之中，秘密信道在隐蔽信道中传输必须以公开信道上传输的信息为载体。



## 4 &nbsp;物理隔离

### 4.1 定义

物理隔离是指内部网不得直接或间接地连接公共网，是一种采用物理方法将内网与外网隔离从而避免入侵或信息泄露的风险的技术手段。

若两个（或多个）计算机之间没有物理或逻辑连接，则认为它们被“空气”隔开，通常将房间内的多台计算机都连接到组织的单独网络中。网络安全中采取这一措施是为了确保附近电脑之间的严格隔离，数据不能在两个网络之间交换，即在被恶意软件或网络程序等攻击手段破坏情况下，数据不能从一台计算机发送到另一台计算机，反之亦然。

### 4.2 黑客突破物理隔离的现有方法

- USB自动运行和固件攻击
- U盘用作射频发射器
- CPU电磁信号
- 突破法拉第笼的电磁信道
- LED状态指示灯
- 红外遥控
- 无线电广播和移动设备
- 超声波通信



## 5 &nbsp;传统网络安全策略

### 5.1 简介

网络安全策略是在指定安全区域内，与安全活动有关的一系列规则和条例，包括对企业各种网络服务的安全层次和权限的分类，确定管理员的安全职责，主要涉及4个方面：实体安全策略、访问控制策略、信息加密策略和网络安全管理策略。

网络安全策略主要包括入网访问控制策略、操作权限控制策略、目录安全控制策略、属性安全控制策略、网络服务器安全控制策略、网络监测、锁定控制策略和防火墙控制策略等8个方面的内容。

### 5.2 安全策略实施

网络安全策略的实施主要包括安全立法、安全管理和安全技术。
实施安全策略时一般会要求做好存储重要数据和文件、及时更新加固系统、加强系统检测与监控、做好系统日志和审计等工作。

**实施原则：**

- 最小特权原则：主体执行操作时，按照主体所需权利的最小化原则分配给主体权利
- 最小泄露原则：主体执行任务时，按照主体所需要知道的信息最小化的原则分配给主体权利
- 多级安全策略：主体和客体间的数据流向和权限控制按照安全级别的绝密（TS）、机密（C）、秘密（S）、限制（RS）和无级别（U）5级来划分。

### 5.3 移动设备App的隐私权限

在《网络隐私安全及网络欺诈行为研究分析报告（2018年上半年）》中显示，几乎所有的Android端手机APP都会获取隐私权限，iOS端获取手机隐私权限的APP比例呈上升趋势，当前网络环境安全不容乐观。

> 报告中，“核心隐私权限”包括获取位置信息、读取手机号、读取短信记录、通话记录等；“重要隐私权限”包括打开摄像头、使用话筒录音、发送短信、发送彩信、拨打电话等；“普通隐私权限”包括打开WiFi开关、打开蓝牙开关、获取设备信息等、打开数据网络等。

> Andriod端手机的测试结果显示，在2018年上半年，获取“打开摄像头”权限的APP比例达到89.9%，获取“使用话筒录音”权限的APP比例达到86.2%。这两个权限是用户最为关注的隐私信息，用户需要谨慎授予App权限。然而，涉及麦克风和扬声器的行为的监控和检测的安全方案和安全工具的提出和实现也因此愈发重要。



## 6 &nbsp;移动通信系统的通信策略都有什么？

### 6.1 移动通信系统的特点

#### 1. 移动通信必须利用[无线电波](https://baike.baidu.com/item/%E6%97%A0%E7%BA%BF%E7%94%B5%E6%B3%A2/942435?fr=aladdin)进行信息传输。

无线电波这种传播媒质允许通信中的用户可以在一定范围内自由活动，其位置不受束缚，不过无线电波的传播特性一般要受到诸多因素的影响。

> 移动通信的运行环境十分复杂，电波不仅会随着传播距离的增加而发生弥散消耗，并且会受到地形、地物的遮蔽而发生“阴影效应”，而且信号经过多点反射，会从多条路径到达接收地点，这种多径信号的幅度、相位和到达时间都不一样，它们互相叠加会产生电平衰落和时延扩展。

> 移动通信常常在快速移动中进行，这不仅会引起多普勒频移，产生随机调频，而且会使得电波传输特性发生快速的随机起伏，严重影响通信质量。故移动通信系统须根据移动信道的特征，进行合理的设计。

#### 2. 通信是在复杂的干扰环境中运行的
移动通信系统是采用多信道共用技术，在一个无线小区内，同时通信者会有成百上千，基站会有多部收发信机同时在同一地点工作，会产生许多干扰信号，还有各种工业干扰和人为干扰。归纳起来有通道干扰、互调干扰、邻道干扰、多址干扰等，以及近基站强信号会压制远基站弱信号，这种现象称为“远近效应”。在移动通信中，将采用多种抗干扰、抗衰落技术措施以减少这些干扰信号的影响。
#### 3. 移动通信业务量的需求与日俱增
移动通信可以利用的频谱资源非常有限，但不断地扩大移动通信系统的通信容量，始终是移动通信发展中的焦点。要解决这一难题，一方面要开辟和启动新的频段，另一方面要研究发展新技术和新措施，提高[频谱利用率](https://baike.baidu.com/item/%E9%A2%91%E8%B0%B1%E5%88%A9%E7%94%A8%E7%8E%87)。因此，有限频谱合理分配和严格管理是有效利用频谱资源的前提，这是国际上和各国频谱管理机构和组织的重要职责。
##### 4. 移动通信设备必须适于在移动环境中使用
移动通信设备要求体积小、重量轻、省电、携带方便、操作简单、可靠耐用和维护方便，还应保证在振动、冲击、高低温环境变化等恶劣条件下能够正常工作。

### 6.2 移动设备通信原理——信息的无线传输

移动通信采用无线电传送信息，除了电磁波，还可利用红外线传送信息。

#### 6.2.1 无线电信息的发送
像我们家里的电视机顶盒或者是我们的路由器之类的设备，他们都需要接上运营商的网线，才可以正常工作，这些网线的作用就是用来传输数据的，但是像我们的雷达、基站或者是我们的手机、收音机这些属于无线通信，它们通过天线发射或者接收无线电波来完成数据的传输，所以我们的无线电波和我们的网线一样，都是用来传输数据的，我们举个例子更好地理解无线电波。

> 假如我们现在正在用手机和小伙伴打电话，我们在电话上给小伙伴说了一句"周末一起去吃火锅吧"。这句话会被手机转换成相应的数据，通过手机天线，发射出无线电波到我们附近的基站，中途经过一些中转，到达小伙伴附近的基站，然后基站再通过天线，发射无线电波到小伙伴的手机上，小伙伴就能听到我们说话了。那在这个过程中，我们说的"周末一起去吃火锅吧"这句话就相当于是一个人一样，这个人现在在重庆，他准备到北京，这个人到北京有两种方式，一种是自己走过去，另一种就是搭乘高铁、飞机等交通工具，因为路途遥远，所以就选择了第二种方式，搭乘了交通工具，而我们说的"周末一起去吃火锅吧"这句话，也是因为路途遥远，所以这句话所搭载的交通工具叫无线电波，所以我们说的无线电波和我们生活中的汽车、高铁、飞机都属于是一种运送东西的交通工具。

利用无线电传递信息，具有速度快、作用距离远的特点，使信息传递具有实时性和即时性。无线电通信是当今社会最常用的传递信息方式。

<div align=center><img src="https://github.com/AmyLi98/Acoustic-Communication/blob/master/Tutorial/img/%E6%97%A0%E7%BA%BF%E7%94%B5%E5%8F%91%E4%BF%A1%E6%9C%BA%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90.png" alt="图4 无线电发信机基本组成" /></div>



#### 6.2.2 音频信号

声音信号经过话筒变为电信号，此电信号称为音频信号，其频率范围从20Hz-20kHz，记作 $F$ 。音频信号可用数轴来表示声音频率的高低，如图5所示。

<div align=center><img src="https://github.com/AmyLi98/Acoustic-Communication/blob/master/Tutorial/img/%E9%9F%B3%E9%A2%91%E4%BF%A1%E5%8F%B7.png" alt="图5 声音频率" /></div>

音频信号的频率与人们发声有关，通常嗓音粗的语音频率低；嗓音细的语音频率高。演奏电子琴声音的音符与频率一一对应，也就是说不同的频率产生不同的音符。可见音频信号的频率反映了音调的变化。

> 小于20Hz信号的频率称为次声波，次声波人耳无法听到，因为它的振动频率每秒不足20次，使人耳的鼓膜振动不起来。

> 20kHz~80kHz的频率称为超声波，超声波人耳也无法听到，因它的振动频率每秒超过2000次，振动得太快了，人耳的鼓膜来不及反应，所以人听不到超声波。

音频信号是要传递的信息，但是音频信号不直接加到天线发射，而要有高频振荡和调制器，是由于：

> 天线理论证明：天线尺寸为$\frac{1}{4}\lambda$时，才能得到最高的传输效率。其中，$\lambda$为音频信号的波长，其范围在15~20000km之间。可见，要直接发射音频信号，需要长达上千里的天线，这在技术上是难以实现的。为此，必须借助于高频振荡$f_C$，用$f_C$携带音频$F$向外发射，由于$f_C$的频率很高，使天线尺寸大为缩短，$f_C$称为载波或载频。

#### 6.2.3 载波 $f_C$
[载波](https://baike.baidu.com/item/%E8%BD%BD%E6%B3%A2)有这样的几层意思：
（1）如上所述，载波相当于运载工具，它用来携带信息向外发射，因此载波被喻为“车”，而音频信号则看成“货”，由车载着货向外发送。
（2）载波可以区分电台，因为不同的电台使用不同的载波频率，只有这样接收端才不至于混台。
（3）载波是宝贵的资源，特別是在无线电通信飞速发展的今夭，载波资源是有限的，若不断地被人们开发占用，将导致资源匮乏。因此，合理地利用和管理载波是人们关注的问题。

#### 6.2.4 调制
调制有多种方式，用调制信号控制高频振荡的振幅、频率和相位，分别称为**调幅AM、调频FM和调相PM**。调幅是用载波振荡幅度的瞬时变化表达信息；调频和调相分别是用载波的频率和相位的瞬时变化表达信息。调频和调相时，振幅维持不变。

在选择调制方式时，应全面综合考虑。例如，调幅制频带较窄，接收设备简单，广泛用于无线电广播。调频制抗干扰能力强，占用频带宽，频率失真小，适于立体声等髙级信息的传播，一般工作于甚髙频和超高频频段。无论调幅、调频和调相，所传送的信息都是模拟信号，也称连续的模拟调制。手机的射频电路就是采用调频方式。

如果调制信号是二进制数，就要采用数字调制方式，GSM数字手机的基带处理电路采用的是名叫最小移频键控MSK的数字调制方式。

经过调制的信号，称为已调波，以电磁波的形式经夭线辐射到空间，这个情形正像一口钟被撞击后，声能向四方传播一样。这个信号也称为射频信号，记为 $RF$ 信号。

#### 6.2.5 无线电信息的接收
无线电波接收过程正好和发送相反。如果说无线电波的发送的核心问题是调制，接收则主要体现为解调，即从已调波中还原为调制波。当然，除了解调这一核心部件外，还有变频、放大等环节。

无线信息的接收分为超外差式、零中频式和低中频式等。目前应用最广泛的一种拓扑结构是超外差式接收机，如图 6 所示，它的基本原理是将从天线接收到的高频信号经下变频后转换为一固定的中频信号, 然后经过进一 步下变频或者直接进行解调。

<div align=center><img src="https://github.com/AmyLi98/Acoustic-Communication/blob/master/Tutorial/img/%E8%B6%85%E5%A4%96%E5%B7%AE%E5%BC%8F%E6%8E%A5%E6%94%B6%E6%9C%BA%E7%BB%93%E6%9E%84.png" alt="图6 超外差式接收机结构" /></div>

超外差式接收机的主要特点是：利用频率变换技术，把接收的射频信号 $RF$ 的载波频率 $f_C$ 先变为频率较低的，而且是固定不变的中间频率(称中频 $IF$ )。而其调制规律保持不变，即仍由 $F$ 来决定。然后利用中频放大器加以放大送到解调器，解出音频信号 $F$ 。因为中频放大器的中心频率是固定不变的，所以其放大倍数很高，整机増益在接收频率范围内，灵敏度比较均匀。对于调谐而言，仅对输入回路和本振回路进行冋步调谐，中频回路则采用固定调谐，比较易实现。



## 7 &nbsp;近场通信

### 7.1 引入近场通信

4G的发展开启了移动互联网新时代，以笔记本、Pad、智能手机、智能手环为代表的具备轻巧方便、应用扩展灵活等特点的移动电子设备，已成为人们获取信息的重要终端。这些设备对于实时传输和交换信息有着迫切的需求，使得近距离通信扮演着越来越重要的角色。

近距离通信技术是通信双方传输数据的有效范围限制在一定范围内（几十米）的一种无线通信方式。目前主要的近距离通信技术有蓝牙技术、WIFI技术、NFC技术等。

**蓝牙（Bluetooth）技术**是出现较早的一种近距离通信技术，经过多年的发展，传输距离和传输速度的优势明显，但功能较为单一，仅用作数据传输，且操作难度较大。

**WIFI（Wireless Fidelity）技术**是一种允许电子设备连接到一个无线局域网（WLAN）的技术，是目前应用最广的近距离通信技术，其覆盖范围较蓝牙广，但数据安全性方面不如蓝牙技术。

再就是**近场通信技术**，提起近场通信，基本上没人了解。如果提起它的英文缩写**NFC**，应该有人听过，虽然还不是很多人了解。NFC技术通信距离比较短，一般在20厘米范围内，主要应用场景是智能设备间近距离点对点互连、支付和门禁这种安全性要求较强的系统中。

我之前在网上甚至看到有人吐槽，认为这是一个鸡肋的功能。但是在我看来，很多人对于NFC功能不是很了解，并没有很深刻地认识到这个功能给我们带来的便利性。其实目前推广NFC比较卖力的是小米。之前雷军将全功能NFC列入十项黑科技，有很多人觉得这很可笑，但是当我们看到小米在各个城市快速的展开公交卡服务时，不得不承认这给人们的生活带来了便利。除此之外，NFC还可以为家人或朋友进行公交卡充值、模拟门禁卡等功能。

当然，NFC的功能不仅限于此，它最大的作用是在于数据的快速交换。它能够在非常近的距离中，实现数据的快速交换，而且很安全。这种数据交换速度远远的超过蓝牙传输的速度，来传输数据、视频、图片等非常便捷，甚至可以交换手机上的密码数据，这就为我们生活中手机安全支付提供了通道。

在现在，Apple Pay，华为Pay，小米钱包其实都是利用NFC功能实现了便捷支付。更加便捷的是，在银行的自动取款机上面，具备闪付功能的ATM机能够支持Apple Pay的无卡取款，这也是NFC功能的功劳。提及支付，很多人就会想到可以直接使用微信支付或者支付宝支付。相较于这些，NFC可以在没有网的时候也进行操作。这样在某些特殊的情况下，手机没有电或者没有网络，你依然可以乘坐地铁或者公交。

### 7.2 近场通信的定义及特征

[近场通信（near field communication）](https://baike.baidu.com/item/%E8%BF%91%E5%9C%BA%E9%80%9A%E4%BF%A1/9741433?fr=aladdin)是一种新兴的技术，使用了NFC技术的设备（比如手机）可以在彼此靠近的情况下进行数据交换，是由非接触式射频识别(RFID)及互连互通技术整合演变而来，通过在单一芯片上集成感应式读卡器、感应式卡片和点对点通信的功能，利用移动终端实现移动支付、电子票务、门禁、移动身份识别、防伪等应用。

与RFID一样，近场通信信息也是通过频谱中无线频率部分的[电磁感应](https://baike.baidu.com/item/%E7%94%B5%E7%A3%81%E6%84%9F%E5%BA%94)耦合方式传递，但两者之间还是存在很大的区别。首先，NFC是一种提供轻松、安全、迅速的通信的无线连接技术，其传输范围比RFID小，RFID的传输范围可以达到几米、甚至几十米，但由于NFC采取了独特的信号衰减技术，相对于RFID来说NFC具有距离近、带宽高、能耗低等特点。其次，NFC与现有非接触智能卡技术兼容，目前已经成为得到越来越多主要厂商支持的正式标准。

近场通信技术主要特征如下：
（1）用于近距离（10cm以内）安全通信的无线通信技术。
（2）射频频率：13.56MHz。
（3）射频兼容：ISO 14443，ISO 15693，Felica标准。
（4）数据传输速度：106kbit/s，212 kbit/s，424kbit/s。

实现NFC通信的有两种技术方案，第一种是直接使用带有NFC芯片的智能终端；第二种是将NFC芯片潜入智能终端的Sim卡中，之后再在智能终端上加装NFC天线。不管采用哪种技术方案，都要使用NFC芯片。因此，要利用NFC进行近场通信，移动智能终端必须本身支持NFC功能。

### 7.3 NFC技术难点

上面提到了NFC技术将给我们的生活带来诸多的便利，那我们就产生疑问了，既然NFC这么有用，为什么到现在没有完全推广呢？

NFC技术作为无线通信技术的一个重要分支，在成本、可靠性和实用性上拥有着明显的优势，然而传统的NFC术存在着诸多弊端，如**2.4 GHz同频段干扰、电磁波屏蔽**等问题。

这些技术上的问题都可以通过不断地改进优化来完善和解决，那么真正限制NFC技术的推广的阻力到底是什么呢？

现在并非所有的手机都支持NFC功能，如果要在手机中加入NFC这个功能，需要**更高的成本**，同时用户体验成本也较高。有些厂商为了避免增加成本，保持自己的高额利润，就会找出借口来搪塞，以用户体验等各种理由不在手机上加入这个功能。所以这些功能的普及也就变得非常的慢，很多人都不了解这个功能到底能做什么，好不好用，自然也就没有过多的需求。我们往往能在旗舰机上面见到这个功能，千元机基本上没有。其实这个功能这么方便，如果这个功能能够稍微普及，会有很多人愿意用。

### 7.3 声波近场通信

声波近场通信是指利用声波进行短距离数据传输的通信方式。这种通信方式对硬件要求较低，只需要使用到智能设备的扬声器和麦克风，通过发送和接收音频信号进行通信。因此几乎所有的智能设备在不需要添加其他硬件的情况下，就可以实现近场通信，比较容易普及。

> 声波传输是利用声音作为传输方式的一种数据通讯方法。用户声音传输信号其实我们每天都会用到，比如说我们说话其实就是一个使用声波进行信号传输的典型例子，说话过程可以理解成把信号编码成声音的过程，而我们聆听的过程就相当于把音频信号解码成语言文字的过程，而我们使用的中文文字与拼音之间的对应关系就相当于该通讯过程的音频协议。而音乐可以同样理解成一种声波通讯的方式，只是其音频协议与说话不一样，音乐的音频协议可以理解成是乐谱，而演奏就是把乐谱编码成声音的过程。而我们古代战争中战鼓实际上也是一种声波传输的一种方式，战鼓的不同敲击方式代表着进攻、退兵等等章法细节就是其音频协议。

<div align=center><img src="https://github.com/AmyLi98/Acoustic-Communication/blob/master/Tutorial/img/%E4%BA%BA%E8%AF%B4%E8%AF%9D%E4%B8%AD%E7%9A%84%E5%A3%B0%E6%B3%A2%E4%BC%A0%E8%BE%93.png" alt="图7 人说话中的声波传输" /></div>

<div align="center"><p>（图片来源于网络）</p></div>

所以利用声波来传输其实我们并不陌生，不但我们天天会用上，而且古而有之。


但是，声波频率较低，所以通信速率相对较低，适合小量数据传输，与蓝牙、WIFI、NFC技术不同，声波近场通信技术并没有一个统一的规范标准。

目前市场上使用到这项技术的产品也有很多，主要应用于声波支付以及智能设备间的名片交换等。其中国内最出名的莫过于支付宝的声波支付，这是支付宝在2013年推出的一项新功能，智能设备间的扬声器与麦克风之间通过声波进行数据的传输，实现当面支付的功能。



## 8 &nbsp;为什么采用高频声波通信的通信策略？

现如今，移动设备通信系统发展较为完善，我们有更快的互联网连接，以及诸如NFC和蓝牙短距离通信系统，无论是无线通信技术还是近距离通信技术，技术都日趋成熟。但我们仍然要着眼于声波近场通信技术，并采用超声波进行信息传输，这到底是为什么呢？

因为我们的项目申报书中填写的项目创新点之一是我们采用了基于超声波的隐蔽信道通信技术，由于篇幅限制，在申报书中，喔也并未做非常详细的解释，这便很容易让人摸不着头脑。因此，如上提出的这个问题是我进行大创校级答辩的时候，评委老师对我提的一个问题。老师说她不明白我们项目的创新点具体创新在哪里，要我做一下解释。当时的我似乎并未理解到老师的问题实际上是问的如上的问题，只是在陈述我们的项目是如何具备“通信的安全隐蔽性”和“设备的隐私保护功能”这两个优点的。现在想起来，当时没有理解到老师意思，很大一部分原因是自己对这个项目的掌握还不是相当的充分和深入，所有的思考也只停留于表面。

现在在我看来，原因主要有三点，兼容性、隐蔽安全性和成本考虑。

### 8.1 兼容性

**1. 扬声器和麦克风在移动设备中非常普遍**，几乎所有的移动设备均配备有这两个部件，同时，绝大多数扬声器和麦克风支持的频率范围同人耳可听范围相同，因此具有较好的音频设施基础。
**2. 该技术不需要任何特殊的硬件或设备配对，这一点与NFC和蓝牙不同。**这可以使得世界各地消费者，包括数以万计没有智能手机的消费者，可以很容易的做类似购买和出售商品这样的事情。我们也可以通过声音，使用一种简单的方法，让完全不同的设备进行通信。随着我们在一些不断增长的智能设备上花费时间，这将变得越来越重要。
**3. 该技术不受无线网络因素影响，在离线环境下仍然可以使用。**近年来随着无线网络使用场景的增加，人们越来越依赖于通过无线网实现支付、控制家居、查询信息等功能，然而由于技术限制等原因，无线网的不稳定性一直是其一大槽点。身边的好多人经历过这样一种尴尬的时刻：在超市买了东西扫了码，准备走的时候却又被收银员叫了回来，因为网络不稳定导致收银台没收到转账；学校里有场会马上就要开了，得赶紧打印几份材料，却发现手机蓝牙迟迟连不上打印机；好不容易参加了一场期待已久的演唱会，但是检票太慢，只能在寒风呼啸的室外排队等待等等。

### 8.2 隐蔽安全性

#### 8.2.1 信息传输是在物理隔离的环境下，不易受到网络层面的攻击

互联网是一个开放的网络，进入门槛很低，在其中隐藏信息容易招致检测或攻击。

然而，如果两个（或多个）计算机之间没有物理或逻辑连接，则它们是被“空气”隔离开的。它们只能连到组织的单独网络，物理隔离确保它们的数据不能在两个网络间交换，即遭受恶意攻击时，数据不能从一台计算机发送到该网络外的另一台计算机，反之亦然。

#### 8.2.2 信息传输具有不可听性和生物安全性

超声波隐蔽信道是隐蔽信道的一种形式，其通道的隐蔽性依赖于人耳的局限性，可通过空气传输信号不需人耳检测。

人耳可听频率范围为20Hz ~ 20KHz，实验证明17KHz以上大部分人已经无法听到，若采用17KHz ~ 20KHz的近超声波频率范围内的频率进行信息传输，既能够做到隐蔽便捷地传输信息，又对婴幼儿与宠物等无任何伤害。

#### 8.2.3 信息传输不可被网络嗅探，具备安全性

互联网中有很多的中间环节，例如路由器、交换机、网关等对信号进行过滤，同时这些设备由于规格型号不同，对数据处理方式不同，导致秘密信息容易被识别。

在计算机安全中，基于计算机网路的嗅探器可以窃听网络上流经的数据包。用集线器Hub组建的网络是基于共享的原理的，局域网内所有的计算机都接收相同的数据包，而网卡构造了硬件的“过滤器”，通过识别MAC地址过滤掉和自己无关的信息，嗅探程序只需关闭这个过滤器，将网卡设置成“混杂模式”，就可以进行嗅探。用交换机组建的网络是基于“交换”原理的，交换机不是把数据包发到所有的端口上，而是发到目的网卡所在的端口。

在设备生产制造与操作系统涉及与实现过程中，并未将声音信道考虑为一种通信传输手段。现有互联网方案使用传输介质为电磁波或光纤等，架构为OSI协议栈，并使用其中链路层网卡作为主机节点收发装置。在现有计算机系统中，声卡、麦克风、扬声器并未被直接考虑为通信手段，而是作为传感器。

因此，使用声波隐蔽信道针对传统互联网安全威胁有很好的安全性，是一种对于计算机网络嗅探或侦听有效防范的通信手段，可抵御一切基于传统计算机网络技术的信息嗅探与侦测，造成通信过程中的信息安全问题。

#### 8.2.4 信息传输质量较好

互联网是一个服务质量无保障的网络，有的数据在传输过程中会被丢失，使得信息隐藏变得困难。

而超声波隐蔽通信的数据及时产生，及时传输，采用信道编解码技术和消息认证机制，可做到信息极大概率的恢复保真以及真实可靠。同时，信息传输过程中，主路音频频率同人耳可听频率相同，与近超声波频率无交叉，可做到平行传输，互不干扰，保证超声波传输方案对主路音频的无损与保真。
### 8.3 成本考虑

#### 8.3.1 商家设备升级成本低

NFC技术的成本为更换带有NFC芯片的手机。然而，由于扬声器和麦克风在绝大多数设备上均有配备，因此，使用高频声波进行通信的成本仅为开发一个App并升级手机系统配置的成本。再良心一点的商家，可能为了改装装备，会添加一些发出一定规律超声波的装置等来提高用户体验感，但这也不会花费商家太多的钱。

#### 8.3.2 用户体验成本低

非智能手机现在仍然在整个手机市场上占有一定的份额，同时，无论何种手机的用户，想要体验超声波通信，仅需要在手机中下载并安装手机客户端，便可以顺利地实现近场通信。



## 9 &nbsp;高频声波通信是否存在安全隐患？

高频声波通信具有如上所述的诸多优点，那么，我们采用高频声波进行通信就没有安全隐患了吗？

这在搞信息安全的人们眼里，真的只能用“痴心妄想”来形容 :joy: (可惜我是个菜鸡)

### 9.1 设备声波隐蔽信道造成的安全隐患

隐蔽物理信道可以被用来进行安全的通信，同时，也可以被恶意利用来绕过传统系统和网络安全策略。

目前已有针对蓝牙的攻击方式，利用其配对过程中存在的漏洞以及电磁信息传输的可远距离侦听。类似的，有使用超声波对声卡的攻击方式，并且此种方式在运用合理的情况会比蓝牙的安全问题更加严重。使用超声波进行的攻击与使用蓝牙设备进行的攻击相似，因为它们都是传统互联网连接（WIFI，4G等）的替代或者说补充。因此，值得注意的是两种媒体之间的差异。与移动设备上的声音相比蓝牙拥有更加发达和安全的基础设施。例如，蓝牙访问被列为 Android用户必须明确允许的危险权限，即已经在安全策略中被高度重视。蓝牙还利用配对过程以便用户必须明确允许他的设备与另一台启用蓝牙的设备配对。无论配对过程如何，超声波都不需要许可，并且可以发出任何可以听到它们的声音。因此，其可能造成的安全问题更加普遍与难以用设备中现有安全策略防范。

同时，声波隐蔽信道能够通过协议栈构成隐蔽网络。隐蔽网络的定义为：一种独立于已建立的网络接口类型并利用物理手段进行计算机与计算机通信的网络。当前的安全策略又很可能很容易地被隐蔽通信绕过，麦克风和扬声器又是移动设备的必备部件，因此，超声波隐身攻击的威胁尤为重要。

### 9.2 计算机系统对声波隐蔽信道隐私保护的缺陷

隐蔽信道可用于通过建立在计算系统设计中未考虑的通信来规避系统和网络策略，纯隔离管理程序的安全策略可能会被绕过，在基于组件的操作系统的应用程序分区之间非法交换消息。隐蔽物理通道为了保持计算机未联网，通过空气与联网计算机分离是常见的物理安全措施。但研究表明，关键数据可能会通过音频子系统泄漏并传输。另外，由于系统和网络安全策略中通常不考虑扬声器和麦克风，所以隐蔽的声学网状网络可以被认为是通过近场音频通信访问的僵尸网络或恶意网络。敌手可以利用这个漏洞并获得对该系统的控制，从而建立一个隐蔽信息传输设备的僵尸网络。

通常，在计算机操作系统安全问题中，数据泄露可以通过至少两种方式以听不见的声音进行。假设应用程序A 在每种情况下都被隐私数据所信任，但是已经被保护，使得它不能通过网络来泄露这些数据。

第一种方法是应用程序之间的设备内通信。应用程序A不能直接与应用程序B通信，因为A具有隐私数据。应用程序B具有网络访问权限和其他权限，但永远不会对敏感数据信任。应用程序A可以将隐私作为声音发送，并让同一设备上的共谋应用程序B通过麦克风接收消息，或者A可以使用振动器发出听不到的脉冲，并让B用加速度计接收消息，应用程序B便可以访问数据并通过网络传输它。但在使用振动器时，存在中等的检测风险，如果用户拿着设备或将其携带在口袋中，他们可能会感觉到振动并变得可疑，因此在用户睡觉或远离设备时使用振动器是理想的。

第二种方法是设备间通信。代理可能会用特洛伊木马攻击目标主体的移动设备，以执行设备间攻击。即便该主体已经保护了他的设备，使得该木马无法通过网络泄露数据，但木马仍可以将数据以超声波的形式传播给攻击者进行录制。接收和记录设备可以使用激光麦克风等长距离听音设备。通过一个较为流行、用户群体大的应用程序A和隐藏记录设备网络，可以大规模地应用相同的攻击。通过该方法还可以控制各种建筑物入口处的广泛网络记录设备，这些录制设备可以在用户经过时泄露敏感数据，并以超声波的形式使得身份证、社会安全号码、信用卡号码、访问地点的坐标、密码等敏感数据在不到一分钟的时间内泄露。



# 下节要做什么？

在本节，我们初步了解了该项目提出和开展的整个思路和几个重要的概念和问题。

接下来，我们要初步了解本项目中移动设备声波通信的整体方案，在头脑中形成一个系统的整体性方案。