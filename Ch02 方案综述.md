<font size=3>**文档目录**</font>

[TOC]

# 第二节 方案综述

> Update 2019/01/20 12:00

> Date: 2019/01/18 - 2019/01/19

> Editor: NEU - Amy Li

> Contact: hsrlhl@outlook.com



## 1 &nbsp;概要

上一节我们讲述了开展本项目的初衷，分析并了解了项目背景的几个基本概念和基本问题。

本节我们要初步了解本项目中移动设备声波通信的整体方案，在头脑中形成一个系统的整体性方案。希望大家能够理清项目的整体规划，对声波通信有一个初步的认识。



## 2 &nbsp;设计目标

为了实现近距离的安全隐蔽传输和针对超声波隐蔽信道通信的安全隐私保护，在充分学习借鉴以往研究工作的思路方法的基础上，结合实际生活环境和用户需求，计划设计出一个基于移动设备系统的实用性强、通信安全性高、隐私保护性好的集安全通信与设备隐私保护于一身的第三方安全工具。具体的设计目标如下：

**（1）安全有效的超声波隐蔽通信方案。**
- 首先，设计精简有效的旁路信息编码格式，包括基础编码和附加编码，便于信息的稳定传输。
- 然后，通过尝试使用多种调制方法，选用在同样的传输功率和白噪声情况下，误码性能和频带利用率表现均相对良好的调制方式。
- 要保证接收端信息的正确性、完整性和可靠性。
- 防止接收信息出现错误，接收端需要对信息进行必要的检纠错操作，还需要通过消息验证码确认信息是否出现被篡改等情况，确认信息的完整性和可靠性。

**（2）传输过程中音频信息的保真和抗干扰。**
- 为防止编码信息在后续传输过程中受到信道中噪声和干扰的影响，需要在附加编码中加入消息认证码和检纠错码。
 - 为减少传输信道中的噪声、多径效应和多普勒频移现象等干扰的影响，需要标准化旁路信号。
- 设立标记信号，目的是在接收时将旁路信号进行标准化处理，还原其正确的幅度、频率、相位等。

**（3）内置隐私保护机制。**
恶意利用超声波隐蔽信道通信方式的攻击手段是本工具潜在的安全隐患，完善隐私保护机制，在工具中内置相应的设备隐私保护安全策略，保证实现信息的安全隐蔽传输以及设备的隐私安全保护。

**（4）工具总体性能良好。**
- 工具的基本性能完善、系统稳定性强、生物安全性好。
- 工具要提升数据传输的正确率、校验及认证的准确率以及调制解调时间的合理性。
- 工具要在存在环境干扰的情况下，具备一定的抗干扰能力，同时在受到潜在安全威胁时快速检测出异常的安全威胁，对异常环境和行为具备一定的灵敏度。



## 3 &nbsp;移动通信系统的一般模型

通信的目的是传输信息。通信系统的作用就是将信息从信源发送到一个或多个目的地。对于点通信来说，首先要把消息转变为电信号，然后经过发送设备，将信号送入信道，在接收端利用接收设备对接收信号作相应的处理之后，送给信宿转换为原来的消息。这一过程可通信系统一般模型来概括。

<div align=center><img src="https://github.com/AmyLi98/Acoustic-Communication/blob/master/Tutorial/img/%E7%A7%BB%E5%8A%A8%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E4%B8%80%E8%88%AC%E6%A8%A1%E5%9E%8B.png" alt="图1 移动通信系统一般模型" /></div>

**1. 信源**
信息源（简称信源）的作用是把各种消息转换成原始电信号。根据消息的种类不同，可分为模拟信源和数字信源。
>- 模拟信源输出连续的模拟信号，即消息的参数的取值是连续的。如扬声器或话筒（声音转变为音频信号）、摄像机（图像转变为视频信号）
>- 数字信源则输出离散的数字信号，即消息的参数的取值是离散的，在使用时域的波形表示数字信号时，则不同离散数值的基本波形就称为码元。在使用二进制编码时，只有两种不同的码元，一种代表0状态而另一种代表1状态。如电传机（键盘字符转变为数字信号）、计算机等各种数字终端。

值得注意的是，模拟信源送出的信号经数字化处理后也可以送出数字信号。

**2. 发送设备**
发送设备的作用是产生适合于在信道中传输的信号，也就是让发送信号的特性和信道特性相匹配，具有抗信道干扰的能力，并且具有足够的功率以满足远距离传输的需要。

因此，发送设备涵盖的内容很多，可能包含**变换、放大、滤波、编码、调制**等过程。对于多路传输系统，发送设备中还包括多路复用器。

**3. 信道**
信道是一种物理媒质，用来将来自发送设备的信号传送到接收端。在无线信道中，信道可以是自由空间；在有限信道中，可以是明线、电缆和光纤。有限信道和无线信道均有多种物理媒质。

信道既给信号以通路，也会对信号产生各种干扰和噪声。信道的固有特性及引入的干扰与噪声直接关系到通信的质量。

**4. 接收设备**
接收设备的功能是接收信号，并将信号放大和反变化**（如译码、解调等）**，其目的是从受到减损的接收信号中正确恢复出原始电信号。

对于多路复用信号，接收设备中还包括解除多路复用，实现正确分路的功能。此外，它还要尽可能减小在传输过程中噪声与干扰所带来的影响。

**5. 信宿**
信宿是消息传输过程的终点和目的地，其功能与信源相反，即把原始电信号还原成相应的消息，如扬声器。

移动通信系统的一般模型分为**发送端、信息传输和接收端**三大模块。发送端包括信源和发送设备，信息传输模块包括信道，而接收端则包括接收设备和信宿。



## 4 &nbsp;本项目通信系统的方案设计

### 4.1 通信模型和模块设计
本项目工具将主路音频信号与旁路信息生成的近超声波混合传输作为传输手段，同时支持无损地使用音频播放的其他功能，按照移动通信系统一般模型进行系统模型设计。

将移动设备上高频声波隐蔽信道通信系统设计为旁路信息编码模块、主路信号处理模块、信号合成模块、信道传输模块、信息提取模块和校验与纠错模块。

<div align=center><img src="https://github.com/AmyLi98/Acoustic-Communication/blob/master/Tutorial/img/%E9%AB%98%E9%A2%91%E5%A3%B0%E6%B3%A2%E9%80%9A%E4%BF%A1%E6%A8%A1%E5%9E%8B.png" alt="图2 高频声波通信模型" /></div>

为了更清晰地了解各模块的组成与功能，归纳总结如下：

**（1）旁路信息编码模块**
由待传输信息的UTF-8编码操作、加入消息认证码操作和加入检纠错码操作组成。
主要用来实现旁路信息段的数据格式设计与生成，为后续的消息认证和检纠错提供基础。

**（2）主路信号处理模块**
实现对主路信息音频信号的20Hz~18kHz的[带通滤波](https://baike.baidu.com/item/%E5%B8%A6%E9%80%9A%E6%BB%A4%E6%B3%A2/2602239)，得到优化后的主路音频信号。

**（3）信号合成模块**
由[调制](https://baike.baidu.com/item/%E8%B0%83%E5%88%B6%E6%8A%80%E6%9C%AF/9759666)和合成器混音两部分组成。
主要用来实现旁路信息编码调制成近超声波频率的信号，以及旁路信息信号、音频标记信号和主路音频信号的混音，生成待传输频的音频信号用于信道传输。

**（4）信道传输模块**
包括获取合成音频信号、发送端扬声器发送、介质中传播、噪声与干扰、接收方麦克风监听和捕获音频信号部分。
主要用来实现超声波音频信号在隐蔽信道中的传输，以及接收端对接收信号的异常检测，实现移动设备的隐私保护功能。发送端使用内置的扬声器发送信号，接收方使用内置的麦克风接收音频信号，对接受音频信号中的异常信号进行检测和预警。

**（5）信息提取模块**
由确定标记信号频移频率、带通滤波和解调组成。
通过标记信号确定多普勒效应频移情况，实现旁路信息从接收音频信号的正确提取。

**（6）校验与纠错模块**
由纠错检错和消息认证两部分组成。
实现对接收到的信息正确性、完整性和安全性的保障，若信息误码过多则传输失败，若通过纠错和认证，即得到正确的未被篡改的信息。

### 4.2 信息传输流程

**Step 1. 信息和信号准备。**
获取TXT格式的待传输信号，生成20kHz能量最大的音频标记信号和主路信息音频信号。

**Step 2. 旁路信息编码和主路信号处理部分同步进行。**
发送方将原有音频信号按 20Hz~18kHz进行带通滤波，得到优化后主路音频信号。同时，将需要传输的文本采用UTF-8编码，加入消息验证码与纠错码，生成需要传输的旁路信息。

**Step 3. 音频信号合成。**
旁路信息经过某方法调制并带通滤波，生成旁路音频信号，然后使用合成器将主路音频信号、旁路音频信号和标记信号进行混音。

**Step 4. 隐蔽信道的安全传输。**
发送方使用扬声器发送合成音频信号，在近程的空气信道中传输，接收方使用麦克风监听并捕捉音频信号，

**Step 5. 提取信息。**
用18kHz高通滤波捕获标记信号，确定标记信号所在频率，得出多普勒效应引发的频移情况，然后根据频移情况对最初捕捉到音频选择合理频段的带通滤波器进行滤波，得到旁路音频信号，进行适当的信号增强后，使用与发送方对应的解调方式得到旁路信息。

**Step 6. 信息的校验与纠错。**
对解调后的信息进行检错与纠错，若误码过多则显示传输失败；若纠错成功则进行消息验证，若认证失败则显示传输失败，若通过认证即可输出旁路信息至接收方相应TXT文件中。



# 下节要做什么？

在本节我们要初步了解本项目中移动设备声波通信系统的整体方案，对声波通信有了一个初步的认识。

接下来，我们要走近声波通信的世界，去看看声波通信这斑斓的世界到底都有些什么奥秘？我们先从整体熟悉并了解项目的代码逻辑，对项目代码的认知上有一个宏观的把握。